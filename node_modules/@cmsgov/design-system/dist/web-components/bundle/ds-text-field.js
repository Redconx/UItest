"use strict";var DesignSystem;(globalThis.webpackChunkDesignSystem=globalThis.webpackChunkDesignSystem||[]).push([[705],{6119:(e,t,r)=>{r.d(t,{k:()=>l});var n=r(4184),i=r.n(n),s=r(7320);const l=e=>{let{children:t,className:r,id:n,inversed:l,requirementLabel:a,...d}=e;const c=i()("ds-c-hint",l&&"ds-c-hint--inverse",r);let o;return a&&t&&("string"==typeof a&&(a=a.trim().replace(/\.$/,""),a+="."),o=" "),(0,s.BX)("p",{...d,id:n,className:c,children:[a,o,t]})}},6410:(e,t,r)=>{r.d(t,{U:()=>s});var n=r(6119),i=r(7320);function s(e){const{hint:t,inversed:r,requirementLabel:s,hintClassName:l}=e;let a,d;return(t||s)&&(d=e.hintId??`${e.id}__hint`,a=(0,i.tZ)(n.k,{requirementLabel:s,inversed:r,id:d,className:l,children:t})),{hintId:d,hintElement:a}}},330:(e,t,r)=>{r.d(t,{g:()=>a});var n=r(2082),i=r(3947),s=r(7320);const l={className:"",viewBox:"37 2 135 135"};function a(e){const t=`ds-c-icon--alert-circle ${e.className||""}`;return(0,s.tZ)(i.l,{title:(0,n.t)("icons.alertCircle"),...l,...e,className:t,children:(0,s.tZ)("path",{d:"M162.18 41.592c-5.595-9.586-13.185-17.176-22.771-22.771-9.588-5.595-20.055-8.392-31.408-8.392-11.352 0-21.821 2.797-31.408 8.392-9.587 5.594-17.177 13.184-22.772 22.771-5.596 9.587-8.393 20.057-8.393 31.408 0 11.351 2.798 21.82 8.392 31.408 5.595 9.584 13.185 17.176 22.772 22.771 9.587 5.595 20.056 8.392 31.408 8.392s21.822-2.797 31.408-8.392c9.586-5.594 17.176-13.185 22.771-22.771C167.773 94.82 170.57 84.35 170.57 73c0-11.351-2.797-21.822-8.39-31.408zm-43.75 70.433c0 .761-.246 1.398-.734 1.914s-1.086.773-1.793.773H100.26c-.706 0-1.331-.271-1.874-.814-.543-.543-.814-1.168-.814-1.873V96.546c0-.706.271-1.331.814-1.874.543-.543 1.168-.814 1.874-.814h15.643c.707 0 1.306.258 1.793.773.488.518.734 1.154.734 1.915v15.479zm-.164-28.026c-.055.543-.339 1.019-.854 1.426-.517.407-1.154.61-1.914.61h-15.073c-.761 0-1.413-.203-1.956-.61-.543-.407-.815-.883-.815-1.426l-1.385-50.595c0-.653.271-1.141.814-1.467.544-.434 1.196-.652 1.956-.652h17.926c.761 0 1.412.217 1.955.652.543.326.813.815.813 1.467l-1.467 50.595z"})})}},3947:(e,t,r)=>{r.d(t,{l:()=>a});var n=r(4184),i=r.n(n),s=r(8083),l=r(7320);const a=e=>{let{ariaHidden:t,className:r,children:n,description:a,id:d,inversed:c,title:o,viewBox:u,...h}=e;const p=i()("ds-c-icon",{"ds-c-icon--inverse":c},r),v=(0,s.Z)("icon--",d),m=`${v}__title`,f=`${v}__desc`,b=a?`${m} ${f}`:m,g=!t,y={};return g&&(y["aria-labelledby"]=b,y.role="img"),(0,l.BX)("svg",{"aria-hidden":t,className:p,id:d??g?v:void 0,viewBox:u,xmlns:"http://www.w3.org/2000/svg",...y,...h,children:[g&&(0,l.tZ)("title",{id:m,children:o}),g&&a&&(0,l.tZ)("desc",{id:f,children:a}),n]})};a.defaultProps={ariaHidden:!0,inversed:!1}},9402:(e,t,r)=>{r.d(t,{Z:()=>o,b:()=>c});var n=r(4184),i=r.n(n),s=r(330),l=r(2082),a=r(8083),d=r(7320);function c(e){let{children:t,className:r,id:n,inversed:c,...o}=e;const u=i()("ds-c-inline-error",{"ds-c-inline-error--inverse":c},r);return(0,d.tZ)("p",{...o,className:u,id:(0,a.Z)("inline-error--",n),"aria-live":"assertive","aria-atomic":"true",children:t&&(0,d.BX)(d.HY,{children:[(0,d.tZ)(s.g,{viewBox:"36 -12 186 186"}),(0,d.tZ)("span",{className:"ds-u-visibility--screen-reader",children:`${(0,l.t)("inlineError.prefix")}: `}),t]})})}const o=c},8972:(e,t,r)=>{r.d(t,{g:()=>d});var n=r(9402),i=r(4184),s=r.n(i),l=r(877),a=r(7320);function d(e){const t=e.errorId??`${e.id}__error`,{errorMessage:r,errorMessageClassName:i,errorPlacement:d=(0,l.vc)().errorPlacementDefault,inversed:c}=e,o=(0,a.tZ)(n.Z,{id:t,inversed:c,className:s()(i,"bottom"===d&&r&&"ds-c-inline-error--bottom"),children:r});let u,h;return"top"===d?u=o:h=o,{errorId:r?t:void 0,invalid:e["aria-invalid"]??!!r,topError:u,bottomError:h}}},8455:(e,t,r)=>{r.d(t,{_:()=>d});var n=r(4184),i=r.n(n),s=r(6119),l=r(9402),a=r(7320);const d=e=>{const{fieldId:t,id:r,children:n,component:d,hint:c,hintId:o,className:u,inversed:h,errorMessage:p,errorId:v,requirementLabel:m,...f}=e;let b;(c||m)&&(b=(0,a.tZ)(s.k,{requirementLabel:m,inversed:h,id:o,children:c}));let g=p;"string"==typeof p&&(g=(0,a.tZ)(l.b,{id:v,children:p}));let y=t;"legend"===d&&t&&(console.warn("The `for` attribute is invalid for legends. Omitting `fieldId` from rendered element."),y=void 0);const N=d,Z=i()("ds-c-label",u,h&&"ds-c-label--inverse");return(0,a.BX)(a.HY,{children:[(0,a.tZ)(N,{className:Z,htmlFor:y,id:r,...f,children:n}),b,g]})};d.defaultProps={component:"label"}},4669:(e,t,r)=>{function n(e){const t=e.labelId??`${e.id}__label`,{label:r,labelClassName:n,inversed:i}=e;return{children:r,className:n,id:t,inversed:i}}r.d(t,{v:()=>n})},5965:(e,t,r)=>{r.d(t,{n:()=>I});var n=r(8661),i=r(8245),s=r(7320);const l=e=>{const t=n.Children.only(e.children),{labelMask:r,inputProps:l}=(0,i.yR)(e.labelMask,t.props),a=(0,n.cloneElement)(t,l);return(0,s.BX)(s.HY,{children:[r,a]})};var a=r(4184),d=r.n(a);const c={phone:/(\d{3})(\d{1,3})?(\d+)?/,ssn:/([*\d]{3})([*\d]{1,2})?([*\d]+)?/,zip:/(\d{5})(\d*)/};function o(e){return e.replace(/[^\d*]/g,"")}function u(e,t){if(e&&"string"==typeof e){const r=e.match(/\d/),n=e.match(/[\d*]/g);if(r||n&&"ssn"===t)return!0}return!1}function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return u(e,t)&&("currency"===t?e=function(e){const t=0===e.indexOf("-")?"-":"",r=(e=e.replace(/[^\d.]/g,"")).indexOf(".");e=(e=e.replace(/[.]/g,((e,t)=>t>r?"":e))).replace(/^0+/g,"");let[n,i=""]=e.split(".");return n=""===n?"0":n.replace(/\B(?=(?:\d{3})+(?!\d))/g,","),""!==i&&(1===i.length?i=i.concat("0"):i.length>2&&(i=i.slice(0,2)),i="00"===i?"":`.${i}`),`${t}${n}${i}`}(e):c[t]&&(e=function(e,t){const r=o(e).match(t);return r&&r.length>1&&(e=r.slice(1).filter((e=>!!e)).join("-")),e}(e,c[t]))),e}function p(e,t){if(u(e,t))if("currency"===t){const t=e.match(/^-|[\d.]/g);t&&(e=t.join(""))}else c[t]&&(e=o(e));return e}const v={phone:"[0-9-]*",ssn:"[0-9-*]*",zip:"[0-9-]*",currency:"[0-9.,-]*"},m={currency:"$"};class f extends n.PureComponent{constructor(e){super(e);const t=this.field(),r=t.props.value||t.props.defaultValue;this.state={value:h(r,e.mask)}}componentDidUpdate(e){this.debouncedOnBlurEvent&&(this.field().props.onBlur(this.debouncedOnBlurEvent),this.debouncedOnBlurEvent=null);const t=this.field().props,r=n.Children.only(e.children),i=(0,n.isValidElement)(r)?r.props:{};if(void 0!==t.value&&i.value!==t.value){const{mask:e}=this.props;if(p(t.value,e)!==p(this.state.value,e)){const r=h(t.value||"",e);this.setState({value:r})}}}field(){return n.Children.only(this.props.children)}handleBlur(e,t){const r=h(e.target.value,this.props.mask),n=r!==this.state.value&&"function"==typeof t.props.onBlur;n&&(e.persist(),this.debouncedOnBlurEvent=e),this.setState({value:r}),n||"function"!=typeof t.props.onBlur||t.props.onBlur(e)}handleChange(e,t){this.setState({value:e.target.value}),"function"==typeof t.props.onChange&&t.props.onChange(e)}render(){const{mask:e}=this.props,t=this.field(),r=(0,n.cloneElement)(t,{defaultValue:void 0,fieldClassName:d()(t.props.fieldClassName,`ds-c-field--${e}`),onBlur:e=>this.handleBlur(e,t),onChange:e=>this.handleChange(e,t),value:this.state.value,type:"text",inputMode:"numeric",pattern:v[this.props.mask]}),i=m[e]?(0,s.tZ)("div",{className:`ds-c-field__before ds-c-field__before--${e}`,children:m[e]}):null;return(0,s.BX)("div",{className:`ds-c-field-mask ds-c-field-mask--${e}`,children:[i,r]})}}const b=f;var g=r(8368),y=r(7336),N=r(1701),Z=r(8083),B=r(8455),C=r(4669),k=r(6410),M=r(8972);const I=e=>{const{id:t,mask:r,labelMask:n,className:i,...a}=e,c=(0,Z.Z)("text-field--",t),{errorId:o,topError:u,bottomError:h,invalid:p}=(0,M.g)({...e,id:c}),{hintId:v,hintElement:m}=(0,k.U)({...e,id:c}),f=(0,C.v)({...e,id:c});let $=(0,s.tZ)(g.Z,{type:I.defaultProps.type,...(0,y.Z)(a),id:c,"aria-invalid":p,"aria-describedby":(0,N.Z)({...e,errorId:o,hintId:v})});return r?$=(0,s.tZ)(b,{mask:r,children:$}):n&&($=(0,s.tZ)(l,{labelMask:n,children:$})),(0,s.BX)("div",{className:d()("ds-u-clearfix",i),children:[(0,s.tZ)(B._,{...f,fieldId:c}),m,u,$,h]})};I.defaultProps={type:"text"}},8368:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(4184),i=r.n(n),s=r(7320);const l=e=>{const{ariaLabel:t,fieldClassName:r,inversed:n,multiline:l,numeric:a,onCopyCapture:d,pattern:c,rows:o,inputRef:u,size:h,type:p,...v}=e,m=i()("ds-c-field",{"ds-c-field--error":e["aria-invalid"],"ds-c-field--inverse":n},h&&`ds-c-field--${h}`,r);let f=p;a?f="text":l&&(f=void 0);const b=l?"textarea":"input",g="string"==typeof o?parseInt(o):o;return(0,s.tZ)(b,{className:m,ref:u,rows:l&&g?g:void 0,inputMode:a?"numeric":void 0,pattern:a&&!c?"[0-9]*":c,type:f,onCopyCapture:d,...v,"aria-label":t||e["aria-label"]})}},8245:(e,t,r)=>{r.d(t,{AJ:()=>h,N_:()=>u,Nl:()=>p,ZP:()=>b,kV:()=>o,vP:()=>m,yR:()=>f});var n=r(8661),i=r(4184),s=r.n(i),l=r(1911),a=r(8083),d=r(7320);const c=(e,t,r)=>function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=e.exec(n),l=s?r(s):"";return i?l:l+t.substring(l.length)},o=c(/^(\d{1,2})[\D]?(\d{1,2})?[\D]?(\d{1,4})?/,"MM/DD/YYYY",(e=>{const[t,r,n]=e.slice(1);return[t&&t.padStart(2,"0"),r&&r.padStart(2,"0"),n].filter((e=>e)).join("/")})),u=c(/^\(?(\d{1,3})?\)?[\s.-]?(\d{1,3})?[\s.-]?(\d{1,4})?/,"###-###-####",(e=>e.slice(1).filter((e=>e)).join("-"))),h=c(/(\d{1,5})/,"#####",(e=>e[1])),p=c(/([*\d]{1,3})[\s.-]?([*\d]{1,2})?[\s.-]?([\d{1,4}]+)?/,"###-##-####",(e=>e.slice(1).filter((e=>e)).join("-"))),v=(e,t)=>{const r=p(e,!0),n="***-**";let i;return i=r.length<6?n.substring(0,r.length):n+r.substring(6),p(i,t)},m=c(/\$?[\d,.-]*/,"$",(e=>{const t=e[0].includes("-"),r=e[0].replace(/[^0-9.]/g,""),n=r.includes(".")?r.slice(0,r.indexOf(".")+3):r,i=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Number(n)).replace(/\.00/,"");return Number(n)>0?t?"-"+i:i:""}));function f(e,t){const r=(0,a.Z)("label-mask--"),i=t.id?`${t.id}__label-mask`:r,[c,u]=(0,n.useState)(!1),{onFocus:h,onBlur:m,onChange:f}=t,b=t.value?.toString()??t.defaultValue?.toString()??"",[g,y]=(0,n.useState)(b);(0,n.useEffect)((()=>{y(b)}),[b,y]);const N={...t,defaultValue:void 0,value:g,onChange:e=>{y(e.currentTarget.value),f&&f(e)},onFocus:e=>{h&&h(e),u(!0)},onBlur:t=>{const r=e(g,!0);t.currentTarget.value=r,t.target.value=r,y(r),f&&f(t),m&&m(t),u(!1)},type:"text",inputMode:"numeric","aria-describedby":(0,l.Z)(t["aria-describedby"],i)};let Z=e(g);return e!==o||c||(Z=e("")),e!==p||c||""===g||(Z=v(g),N.value=v(g,!0)),{labelMask:(0,d.BX)("div",{className:"ds-c-label-mask",id:i,children:[(0,d.tZ)("span",{className:s()(c&&"ds-u-visibility--screen-reader"),children:Z}),(0,d.tZ)("span",{className:s()(!c&&"ds-u-display--none"),"aria-hidden":"true",children:Z})]}),inputProps:N}}const b=f},7336:(e,t,r)=>{r.d(t,{Z:()=>n});const n=function(e){const t={...e};return delete t.className,delete t.errorId,delete t.errorMessage,delete t.errorMessageClassName,delete t.errorPlacement,delete t.hint,delete t.hintId,delete t.requirementLabel,delete t.labelId,delete t.label,delete t.labelClassName,t}},1701:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(1911);const i=function(e){return(0,n.Z)(e["aria-describedby"],e.errorId,e.hintId)||void 0}},1911:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(4184);const i=r.n(n)()},128:(e,t,r)=>{r.r(t);var n=r(2046),i=r(5965),s=r(2021),l=r(4905),a=r(8245),d=r(7320);const c=["autofocus","aria-disabled","class-name","disabled","field-class-name","inversed","label-mask","multiline","name","numeric","value","root-id","rows","size","type",...l.z];function o(e){switch(e){case"phone":return a.N_;case"zip":return a.AJ;case"ssn":return a.Nl;case"currency":return a.vP}}const u=e=>{let{autofocus:t,rootId:r,...n}=e;return(0,d.tZ)(i.n,{...n,autoFocus:(0,s.Mt)(t),"aria-disabled":(0,s.Mt)(n.ariaDisabled),disabled:(0,s.Mt)(n.disabled),id:r,inversed:(0,s.Mt)(n.inversed),labelMask:o(n.labelMask),multiline:(0,s.Mt)(n.multiline)})};(0,n.O)("ds-text-field",(()=>u),{attributes:c,events:["onChange","onBlur"]})},4905:(e,t,r)=>{r.d(t,{z:()=>n});const n=["label","label-class-name","label-id","hint","hint-id","requirement-label","hint-class-name","error-id","error-placement","error-message","error-message-class-name"]},2021:(e,t,r)=>{function n(e){return void 0!==e&&"false"!==e}function i(e){return e?new Date(e):void 0}function s(e){if(void 0!==e)return parseInt(e)}function l(e){return(e=>{try{JSON.parse(e)}catch(e){return!1}return!0})(e)?JSON.parse(e):e}r.d(t,{Mt:()=>n,Py:()=>i,RC:()=>l,bD:()=>s})},7320:(e,t,r)=>{r.d(t,{BX:()=>n.BX,HY:()=>n.HY,tZ:()=>n.tZ}),r(8661);var n=r(6584)}},e=>{var t=(128,e(e.s=128));DesignSystem=t}]);
//# sourceMappingURL=ds-text-field.js.map