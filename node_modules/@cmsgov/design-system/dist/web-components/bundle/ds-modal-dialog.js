"use strict";var DesignSystem;(globalThis.webpackChunkDesignSystem=globalThis.webpackChunkDesignSystem||[]).push([[135],{3879:(e,t,n)=>{n.d(t,{g:()=>l});var o=n(2082),s=n(3947),i=n(7320);const a={className:"",viewBox:"-2 -2 18 18"};function l(e){const t=`ds-c-icon--close ds-c-icon--close-thin ${e.className||""}`;return(0,i.tZ)(s.l,{title:(0,o.t)("icons.close"),...a,...e,className:t,children:(0,i.tZ)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",d:"M0 13.0332964L13.0332964 0M13.0332964 13.0332964L0 0"})})}},3947:(e,t,n)=>{n.d(t,{l:()=>l});var o=n(4184),s=n.n(o),i=n(8083),a=n(7320);const l=e=>{let{ariaHidden:t,className:n,children:o,description:l,id:r,inversed:c,title:d,viewBox:u,...f}=e;const h=s()("ds-c-icon",{"ds-c-icon--inverse":c},n),p=(0,i.Z)("icon--",r),m=`${p}__title`,v=`${p}__desc`,b=l?`${m} ${v}`:m,y=!t,g={};return y&&(g["aria-labelledby"]=b,g.role="img"),(0,a.BX)("svg",{"aria-hidden":t,className:h,id:r??y?p:void 0,viewBox:u,xmlns:"http://www.w3.org/2000/svg",...g,...f,children:[y&&(0,a.tZ)("title",{id:m,children:d}),y&&l&&(0,a.tZ)("desc",{id:v,children:l}),o]})};l.defaultProps={ariaHidden:!0,inversed:!1}},9206:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(8661);var s=n(7320);const i=e=>{let{children:t,exit:n,isOpen:i,showModal:a,backdropClickExits:l,boundingBoxRef:r,...c}=e;const d=(0,o.useRef)(null);if(void 0===i){const e="The 'isOpen' prop is now used to control the state of Dialogs and Drawers. Please do not conditionally render these components to control their state. All Dialogs and Drawers will become invisible without this prop in the next major release. Using this prop will fix a focus-management issue that affects accessibility.";console.error(e),i=!0}return(0,o.useLayoutEffect)((()=>{!function(e){if(!e.showModal){if("dialog"!==e.localName)throw new Error("Failed to polyfill dialog: The element is not a dialog.");!function(e){function t(t){27===t.keyCode&&(t.preventDefault(),t.stopPropagation(),e.close())}function n(n){n?(e.hasAttribute("open")||e.setAttribute("open",""),document.addEventListener("keydown",t)):(e.removeAttribute("open"),document.removeEventListener("keydown",t))}e.show=()=>n(!0),e.showModal=()=>n(!0),e.close=()=>{n(!1);const t=new CustomEvent("close",{bubbles:!1,cancelable:!0});e.dispatchEvent(t)},e.hasAttribute("role")||e.setAttribute("role","dialog"),"returnValue"in e||(e.returnValue=""),Object.defineProperty(e,"open",{set:n,get:e.hasAttribute.bind(e,"open")})}(e)}}(d.current)})),(0,o.useEffect)((()=>{const e=d.current;let t=!1;i?e.open||(a?e.showModal():e.show(),e.focus()):e.open&&(e.close(),t=!0);const o=e=>{e.preventDefault(),t||n(e)};return e.addEventListener("close",o),()=>{e.removeEventListener("close",o)}}),[i,a,n]),(0,o.useEffect)((()=>{if(!l)return;const e=d.current,t=e=>{const t=(r?.current??d.current).getBoundingClientRect();t.top<=e.clientY&&e.clientY<=t.top+t.height&&t.left<=e.clientX&&e.clientX<=t.left+t.width||n(e)};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}),[n,l]),(0,s.tZ)("dialog",{ref:d,...c,tabIndex:-1,children:t})}},7591:(e,t,n)=>{function o(e){return e.map((e=>e.current?.textContent)).find((e=>e))}n.d(t,{L:()=>o,Z:()=>s});const s=o},1205:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(8661);const s=e=>{const t=(0,o.useRef)();return(0,o.useEffect)((()=>{t.current=e})),t.current}},3986:(e,t,n)=>{n.r(t);var o=n(2046),s=n(8661),i=n(4184),a=n.n(i),l=n(8083),r=n(3879),c=n(7320);const d=e=>{let{className:t,id:n,ariaHidden:o=!1,...s}=e;const i=(0,l.Z)("close-button--",n);return(0,c.tZ)("button",{type:"button",...s,className:a()("ds-c-close-button",t),id:i,children:(0,c.tZ)(r.g,{ariaHidden:o,id:`${i}__icon`})})};var u=n(9206),f=n(8768),h=n(877),p=n(7591),m=n(1205);var v=n(2082);const b="ds--dialog-open",y="--body_top--dialog-open";function g(){if(!document.body.classList.contains(b))return;document.body.classList.remove(b);const e=-parseInt(document.body.style.getPropertyValue(y));document.body.style.removeProperty(y),isNaN(e)||window.scrollTo({top:e,behavior:"auto"}),document.documentElement.style.removeProperty("scroll-behavior")}const w=e=>{const{actions:t,actionsClassName:n,alert:o,analytics:i,analyticsLabelOverride:r,onAnalyticsEvent:w,ariaCloseLabel:_,children:E,className:Z,headerClassName:N,heading:L,id:k,onExit:x,size:C,...O}=e,D=(0,l.Z)("dialog--",k),A=function(e){let{analytics:t,analyticsLabelOverride:n,onAnalyticsEvent:o=(0,h.vc)().defaultAnalyticsFunction,isOpen:i}=e;function a(e,s){if(!0!==t&&(!(0,h.vc)().dialogSendsAnalytics||!1===t))return;const i=n??e;i?o({event_extension:f.RW,heading:i,...s}):console.error("No content found for Dialog analytics event")}return function(e){let{isOpen:t,onOpen:n,onClose:o}=e;const i=(0,s.useRef)(),a=(0,m.Z)(t);return(0,s.useEffect)((()=>{const e=(0,p.Z)([i]);t&&t!==a?n(e):t||!0!==a||o(e)}),[t,a]),i}({isOpen:i,onOpen:e=>{a(e,{event_name:"modal_impression"})},onClose:e=>{a(e,{event_name:"modal_closed"})}})}(e),B=`${D}__heading`,M=`${D}__content`,$=a()("ds-c-dialog",Z,C&&`ds-c-dialog--${C}`),P=a()("ds-c-dialog__header",N),R=a()("ds-c-dialog__actions",n),X=(0,s.useRef)();return(0,s.useEffect)((()=>{X.current?.focus()}),[X]),H=O.isOpen??!0,(0,s.useLayoutEffect)((()=>(H?function(){if(document.body.classList.contains(b))return;const e=window.scrollY??0;document.body.classList.add(b),document.body.style.setProperty(y,`-${e}px`),document.documentElement.style.setProperty("scroll-behavior","auto")}():g(),()=>{g()})),[H]),(0,c.tZ)(u.Z,{className:$,showModal:!0,exit:x,...O,id:D,boundingBoxRef:X,"aria-labelledby":B,children:(0,c.BX)("div",{className:"ds-c-dialog__window",ref:X,children:[(0,c.BX)("div",{className:P,children:[L&&(0,c.tZ)("h2",{className:"ds-c-dialog__heading",id:B,ref:A,children:L}),(0,c.tZ)(d,{"aria-label":_??(0,v.t)("dialog.ariaCloseLabel"),ariaHidden:!0,className:"ds-c-dialog__close",id:`${D}__close`,onClick:x})]}),(0,c.BX)("div",{className:"ds-c-dialog__body",children:[(0,c.tZ)("div",{id:M,children:E}),t&&(0,c.tZ)("div",{className:R,children:t})]})]})});var H};var _=n(2021);const E=["actions-class-name","alert","backdrop-click-exits","dialog-close-label","class-name","header-class-name","heading","root-id","is-open","size",...n(5600).m],Z=e=>["narrow","wide","full"].includes(e),N=e=>{let{alert:t,analytics:n,backdropClickExits:o,children:s,dialogCloseLabel:i,isOpen:a,rootId:l,size:r,...d}=e;return(0,c.tZ)(w,{id:l,alert:(0,_.Mt)(t),ariaCloseLabel:i,backdropClickExits:(0,_.Mt)(o),isOpen:(0,_.Mt)(a),size:Z(r)?r:null,...d,analytics:(0,_.Mt)(n),children:s})};(0,o.O)("ds-modal-dialog",(()=>N),{attributes:E,events:["onAnalyticsEvent","onExit"]})},5600:(e,t,n)=>{n.d(t,{K:()=>s,m:()=>o});const o=["analytics","analytics-label-override"],s=["analytics-parent-heading","analytics-parent-type"]},2021:(e,t,n)=>{function o(e){return void 0!==e&&"false"!==e}function s(e){return e?new Date(e):void 0}function i(e){if(void 0!==e)return parseInt(e)}function a(e){return(e=>{try{JSON.parse(e)}catch(e){return!1}return!0})(e)?JSON.parse(e):e}n.d(t,{Mt:()=>o,Py:()=>s,RC:()=>a,bD:()=>i})},7320:(e,t,n)=>{n.d(t,{BX:()=>o.BX,HY:()=>o.HY,tZ:()=>o.tZ}),n(8661);var o=n(6584)}},e=>{var t=(3986,e(e.s=3986));DesignSystem=t}]);
//# sourceMappingURL=ds-modal-dialog.js.map