"use strict";var DesignSystem;(globalThis.webpackChunkDesignSystem=globalThis.webpackChunkDesignSystem||[]).push([[471],{7939:(e,t,n)=>{n.d(t,{z:()=>u,Z:()=>h});var r=n(4184),a=n.n(r),o=n(1749),i=n(877),s=n(7591),c=n(8768),l=n(8661),d=n(7320);const u=e=>{const{analytics:t,analyticsLabelOverride:n,analyticsParentHeading:r,analyticsParentType:u,onAnalyticsEvent:h,children:f,className:b,inputRef:p,isAlternate:v,onClick:y,onDark:w,size:m,variation:k,...g}=e,{contentRef:_,sendButtonEvent:E}=function(e){let{analytics:t,analyticsLabelOverride:n,analyticsParentHeading:r,analyticsParentType:a,href:o,onAnalyticsEvent:d=(0,i.vc)().defaultAnalyticsFunction,type:u,variation:h}=e;const f=(0,l.useRef)();return{contentRef:f,sendButtonEvent:function(){if(!0!==t&&(!(0,i.vc)().buttonSendsAnalytics||!1===t))return;const e=n??(0,s.L)([f]),l=h??"default",b=u??"button",p=r??" ",v=a??" ";return d({event_name:"button_engagement",event_extension:c.RW,text:e,button_style:l,button_type:o?"link":b,parent_component_heading:p,parent_component_type:v,...o?{link_url:o}:{}})}}}(e),Z=e.href?"a":"button",x=v&&"ds-c-button--alternate",C=w&&"ds-c-button--on-dark",L=m&&`ds-c-button--${m}`,N=k&&`ds-c-button--${k}`,A={...g,className:a()("ds-c-button",x,C,L,N,b)};function B(t){e.disabled||(E(),y&&y(t))}return"button"!==Z&&(delete A.disabled,delete A.type,e.disabled&&(A.role="link",A["aria-disabled"]=!0,delete A.href)),(0,d.tZ)(Z,{ref:(0,o.Z)([p,_]),onClick:B,onKeyPress:"a"===Z?function(e){" "===e.key&&B(e)}:void 0,...A,children:f})};u.defaultProps={isAlternate:!1,onDark:!1,type:"button"};const h=u},9206:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(8661);var a=n(7320);const o=e=>{let{children:t,exit:n,isOpen:o,showModal:i,backdropClickExits:s,boundingBoxRef:c,...l}=e;const d=(0,r.useRef)(null);if(void 0===o){const e="The 'isOpen' prop is now used to control the state of Dialogs and Drawers. Please do not conditionally render these components to control their state. All Dialogs and Drawers will become invisible without this prop in the next major release. Using this prop will fix a focus-management issue that affects accessibility.";console.error(e),o=!0}return(0,r.useLayoutEffect)((()=>{!function(e){if(!e.showModal){if("dialog"!==e.localName)throw new Error("Failed to polyfill dialog: The element is not a dialog.");!function(e){function t(t){27===t.keyCode&&(t.preventDefault(),t.stopPropagation(),e.close())}function n(n){n?(e.hasAttribute("open")||e.setAttribute("open",""),document.addEventListener("keydown",t)):(e.removeAttribute("open"),document.removeEventListener("keydown",t))}e.show=()=>n(!0),e.showModal=()=>n(!0),e.close=()=>{n(!1);const t=new CustomEvent("close",{bubbles:!1,cancelable:!0});e.dispatchEvent(t)},e.hasAttribute("role")||e.setAttribute("role","dialog"),"returnValue"in e||(e.returnValue=""),Object.defineProperty(e,"open",{set:n,get:e.hasAttribute.bind(e,"open")})}(e)}}(d.current)})),(0,r.useEffect)((()=>{const e=d.current;let t=!1;o?e.open||(i?e.showModal():e.show(),e.focus()):e.open&&(e.close(),t=!0);const r=e=>{e.preventDefault(),t||n(e)};return e.addEventListener("close",r),()=>{e.removeEventListener("close",r)}}),[o,i,n]),(0,r.useEffect)((()=>{if(!s)return;const e=d.current,t=e=>{const t=(c?.current??d.current).getBoundingClientRect();t.top<=e.clientY&&e.clientY<=t.top+t.height&&t.left<=e.clientX&&e.clientX<=t.left+t.width||n(e)};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}),[n,s]),(0,a.tZ)("dialog",{ref:d,...l,tabIndex:-1,children:t})}},7591:(e,t,n)=>{function r(e){return e.map((e=>e.current?.textContent)).find((e=>e))}n.d(t,{L:()=>r,Z:()=>a});const a=r},1749:(e,t,n)=>{function r(e){return t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}}n.d(t,{Z:()=>r})},8427:(e,t,n)=>{n.r(t);var r=n(2046),a=n(8661),o=n(7939),i=n(9206),s=n(4184),c=n.n(s),l=n(2082),d=n(8083),u=n(7320);const h=e=>{const{ariaLabel:t,backdropClickExits:n,children:r,className:s,closeButtonText:h,closeButtonVariation:f,footerBody:b,footerTitle:p,hasFocusTrap:v,heading:y,headingId:w,headingLevel:m,headingRef:k,isFooterSticky:g,isHeaderSticky:_,isOpen:E,onCloseClick:Z,...x}=e,C=(0,a.useRef)(null),L=(0,d.Z)("drawer--",w),N=`h${m}`;return(0,u.tZ)(i.Z,{className:c()(s,"ds-c-drawer"),exit:Z,showModal:v,backdropClickExits:n,isOpen:E,"aria-labelledby":L,...x,children:(0,u.BX)("div",{className:"ds-c-drawer__window",tabIndex:g&&-1,children:[(0,u.BX)("div",{className:"ds-c-drawer__header",children:[(0,u.tZ)(N,{id:L,className:"ds-c-drawer__header-heading",ref:e=>{C.current=e,k&&(k.current=e)},children:y}),(0,u.tZ)(o.Z,{"aria-label":t??(0,l.t)("drawer.ariaLabel"),className:"ds-c-drawer__close-button",size:"small",onClick:Z,variation:f,children:h??(0,l.t)("drawer.closeButtonText")})]}),(0,u.tZ)("div",{className:c()("ds-c-drawer__body",{"ds-c-drawer--is-sticky":_||g}),tabIndex:0,children:r}),(p||b)&&(0,u.BX)("div",{className:"ds-c-drawer__footer",children:[(0,u.tZ)("h4",{className:"ds-c-drawer__footer-title",children:p}),(0,u.tZ)("div",{className:"ds-c-drawer__footer-body",children:b})]})]})})};h.defaultProps={hasFocusTrap:!1,headingLevel:"3"};var f=n(2021);const b=e=>{let{children:t,closeButtonAriaLabel:n,hasFocusTrap:r,isHeaderSticky:a,isFooterSticky:o,isOpen:i,...s}=e;return(0,u.tZ)(h,{hasFocusTrap:(0,f.Mt)(r),isHeaderSticky:(0,f.Mt)(a),isFooterSticky:(0,f.Mt)(o),isOpen:(0,f.Mt)(i),ariaLabel:n,...s,children:t})};(0,r.O)("ds-drawer",(()=>b),{attributes:["children","close-button-aria-label","close-button-text","close-button-variation","class-name","footer-title","footer-body","has-focus-trap","heading","heading-id","heading-level","is-header-sticky","is-footer-sticky","is-open"],events:[["onCloseClick",e=>({detail:{event:e}})]]})},2021:(e,t,n)=>{function r(e){return void 0!==e&&"false"!==e}function a(e){return e?new Date(e):void 0}function o(e){if(void 0!==e)return parseInt(e)}function i(e){return(e=>{try{JSON.parse(e)}catch(e){return!1}return!0})(e)?JSON.parse(e):e}n.d(t,{Mt:()=>r,Py:()=>a,RC:()=>i,bD:()=>o})},7320:(e,t,n)=>{n.d(t,{BX:()=>r.BX,HY:()=>r.HY,tZ:()=>r.tZ}),n(8661);var r=n(6584)}},e=>{var t=(8427,e(e.s=8427));DesignSystem=t}]);
//# sourceMappingURL=ds-drawer.js.map